{{/*
  Guest Bio Partial

  Usage:
    {{ partial "guest-bio.html" (dict "guest" .Params.guest "showHeader" true) }}

  Parameters:
    - guest: The guest object with .name, .bio, and .social fields
    - showHeader: Boolean - whether to show "About {name}" header
*/}}

{{ with .guest }}
{{- $slug := .name | urlize -}}
{{- $headshot := printf "images/guests/%s.jpg" $slug -}}
{{- $hasHeadshot := fileExists (printf "assets/%s" $headshot) -}}
<section class="guest-bio">
{{- if $hasHeadshot -}}
<div class="guest-headshot">
{{- partial "image.html" (dict "src" $headshot "alt" .name "width" 150 "sizes" "(max-width: 480px) 100px, 150px" "grayscale" true) -}}
</div>
{{- end -}}
{{- if $.showHeader -}}<h2>About {{ .name }}</h2>{{- end -}}
{{- with .bio -}}<p>{{ . }}</p>{{- end }}
{{ if or .social.twitter .social.nostr .social.website .social.linkedin .social.substack .social.github }}
{{ partial "social-links.html" .social }}
{{ end }}
</section>
{{ end }}
