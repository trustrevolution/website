{{ define "main" }}
<article class="about-page seamless-to-footer">

  {{ partial "hero.html" .Params.hero }}

  <!-- THE SHOW: What this is -->
  {{- $episodes := where .Site.RegularPages "Section" "episodes" -}}
  {{- $episodeCount := len $episodes -}}
  {{- $seasons := slice -}}
  {{- range $episodes -}}
    {{- with .Params.season -}}
      {{- $seasons = $seasons | append . -}}
    {{- end -}}
  {{- end -}}
  {{- $seasonCount := len ($seasons | uniq) -}}
  <section class="about-show">
    <div class="container">
      <div class="show-layout">
        <div class="show-main fade-in">
          <p class="show-lead">{{ .Params.show.lead }}</p>
          <p>{{ .Params.show.body }}</p>
        </div>
        <aside class="show-stats fade-in delay-1">
          <div class="stat">
            <span class="stat-value">{{ $episodeCount }}</span>
            <span class="stat-label">Episodes</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ $seasonCount }}</span>
            <span class="stat-label">Seasons</span>
          </div>
          <div class="stat">
            <span class="stat-value">0</span>
            <span class="stat-label">Ads</span>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- THE HOST -->
  <section class="host">
    <div class="container">
      <div class="host-layout fade-in delay-2">
        <figure class="host-photo">
          {{ partial "image.html" (dict "src" .Params.host.image "alt" (printf "Photo of %s" .Params.host.name) "width" 400 "sizes" "(max-width: 768px) 180px, 220px") }}
        </figure>
        <div class="host-content">
          <span class="host-label">{{ .Params.host.label }}</span>
          <h2 class="section-title">{{ .Params.host.name }}</h2>
          {{ range .Params.host.bio }}
          <p>{{ . }}</p>
          {{ end }}
          {{ partial "social-links.html" (dict "links" .Params.host.links "format" "array") }}
        </div>
      </div>
    </div>
  </section>

  <!-- CONNECT -->
  <section class="about-connect">
    <div class="container">
      <div class="connect-layout fade-in delay-3">
        <h2 class="section-title">{{ .Params.connect.heading }}</h2>
        <p>{{ .Params.connect.text }}</p>
        <a href="mailto:{{ .Params.connect.email }}" class="tag-link tag-link--lg">{{ .Params.connect.email }}</a>
      </div>
    </div>
  </section>

  {{ partial "email-signup.html" . }}
</article>
{{ end }}
